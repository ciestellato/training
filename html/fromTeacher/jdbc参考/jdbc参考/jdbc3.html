<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>🧪 サンプルコード（レコード登録のみ）</title>

<!-- for markdown highlight -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css" integrity="sha512-hasIneQUHlh06VNBe7f6ZcHmeRTLIaQWFd43YriJ0UND19bvYRauxthDg8E4eVNPm9bRUhr5JGeqH7FRFXQu5g==" crossorigin="anonymous" referrerpolicy="no-referrer" data-for-md="1" />
<!-- for markdown (github style) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.min.css" integrity="sha512-KUoB3bZ1XRBYj1QcH4BHCQjurAZnCO3WdrswyLDtp7BMwCw7dPZngSLqILf68SGgvnWHTD5pPaYrXi6wiRJ65g==" crossorigin="anonymous" referrerpolicy="no-referrer" data-for-md="1" />
<!-- for markdown (github style) -->
<style type="text/css" data-for-md="1">
.markdown-body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
}

.markdown-body strong,
.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5 {
  font-weight: 700;
}

@media (max-width: 767px) {
  .markdown-body {
    padding: 15px;
  }
}
</style>
    
<body class="markdown-body">
<p>H2データベースの <code>EMPLOYEES</code> テーブルに、2人の社員情報を登録（INSERT）するJavaコードです。<strong>専門用語を使わずに、初学者向けにわかりやすく</strong>説明します。</p>
<hr>
<h2 id="🧪_サンプルコード（レコード登録のみ）" onmouseover="this.querySelector('a .headlink').style.display='inline-block'" onmouseout="this.querySelector('a .headlink').style.display='none'">🧪 サンプルコード（レコード登録のみ）<a href="#🧪_サンプルコード（レコード登録のみ）" title="🧪_サンプルコード（レコード登録のみ）"><i class="headlink" style="display:none;"></i></a></h2>
<pre><code class="language-java">import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;

public class InsertEmployees {
    public static void main(String[] args) {
        // データベースと話すための準備（ドライバーを読み込む）
        try {
            Class.forName(&quot;org.h2.Driver&quot;);
        } catch (ClassNotFoundException e) {
            System.out.println(&quot;データベースの準備に失敗しました&quot;);
            return;
        }

        // データベースに接続して、情報を登録する
        try (Connection conn = DriverManager.getConnection(
                &quot;jdbc:h2:tcp://localhost/~/example&quot;, // データベースの場所
                &quot;sa&quot;,                                 // ユーザー名（H2の初期設定）
                &quot;&quot;                                    // パスワード（空でOK）
        )) {
            // 登録する文章（SQL）を作る。？はあとで値を埋める場所
            String sql = "INSERT INTO EMPLOYEES (ID, NAME, AGE) VALUES (?, ?, ?)";
            PreparedStatement pStmt = conn.prepareStatement(sql);

            // 1人目の情報を VALUES (?, ?, ?）にセットして登録=> VALUES（"EMP003", "鈴木 太郎", 23）
            pStmt.setString(1, "EMP003");         // ID
            pStmt.setString(2, "鈴木 太郎");         // 名前
            pStmt.setInt(3, 23);                  // 年齢
            pStmt.executeUpdate();                // 実行して登録

            // 2人目の情報をセットして登録
            pStmt.setString(1, &quot;EMP002&quot;);
            pStmt.setString(2, &quot;綾部 めぐみ&quot;);
            pStmt.setInt(3, 22);
            pStmt.executeUpdate();

            System.out.println(&quot;2人の情報を登録しました&quot;);

        } catch (SQLException e) {
            System.out.println(&quot;登録中に問題が発生しました: &quot; + e.getMessage());
        }
    }
}
</code></pre>
<hr>
<h2 id="🔍_初心者向けポイント解説" onmouseover="this.querySelector('a .headlink').style.display='inline-block'" onmouseout="this.querySelector('a .headlink').style.display='none'">🔍 初心者向けポイント解説<a href="#🔍_初心者向けポイント解説" title="🔍_初心者向けポイント解説"><i class="headlink" style="display:none;"></i></a></h2>
<table>
<thead>
<tr>
<th>部分</th>
<th>わかりやすい説明</th>
</tr>
</thead>
<tbody><tr>
<td><code>Class.forName(...)</code></td>
<td>Javaがデータベースと話せるようにする準備。通訳を呼ぶようなもの。</td>
</tr>
<tr>
<td><code>DriverManager.getConnection(...)</code></td>
<td>データベースにつながる。住所・名前・合言葉を伝えて「こんにちは」と言う感じ。</td>
</tr>
<tr>
<td><code>INSERT INTO ... VALUES (?, ?, ?)</code></td>
<td>「この3つの情報を登録してください」とお願いする文章。？はあとで埋める場所。</td>
</tr>
<tr>
<td><code>pStmt.setString(...) / setInt(...)</code></td>
<td>？の部分に実際の情報を入れる。順番にID・名前・年齢をセット。</td>
</tr>
<tr>
<td><code>pStmt.executeUpdate()</code></td>
<td>実際に登録する。「この情報を送ります！」という合図。</td>
</tr>
<tr>
<td><code>try-with-resources</code></td>
<td>つながったら、終わった後に自動で手を離してくれる仕組み。忘れずに後片付けしてくれる。</td>
</tr>
</tbody></table>
<hr>


<!-- for markdown (headlink hover) -->
<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous" data-for-md="1"></script>
<!-- for markdown parsing -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.16/marked.min.js" integrity="sha512-8d9aScHpB0kf4+i5O3JlEP6VfvvjYYyZXa71ZKq0CzytOfDcH8d4Iej33s/0nNDcqWHhdDuAZKjA2y2qXzvJZw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- for markdown highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js" integrity="sha512-yUUc0qWm2rhM7X0EFe82LNnv2moqArj5nro/w1bi05A09hRVeIZbN6jlMoyu0+4I/Bu4Ck/85JQIU82T82M28w==" crossorigin="anonymous" referrerpolicy="no-referrer" data-for-md="1"></script>
    

<script>
$(document).on("mouseover", "h1,h2,h3,h4,h5", function(e) {
  $(e.currentTarget).find(".headlink").text("🔗").show();
});
$(document).on("mouseout", "h1,h2,h3,h4,h5", function(e) {
  $(e.currentTarget).find(".headlink").hide();
});
</script>
<script>hljs.highlightAll();</script>
</body>
</html>