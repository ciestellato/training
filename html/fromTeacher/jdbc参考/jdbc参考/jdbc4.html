<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ğŸ§ª ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ï¼ˆå¹´é½¢ã®æ›´æ–°ï¼‰</title>

<!-- for markdown highlight -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css" integrity="sha512-hasIneQUHlh06VNBe7f6ZcHmeRTLIaQWFd43YriJ0UND19bvYRauxthDg8E4eVNPm9bRUhr5JGeqH7FRFXQu5g==" crossorigin="anonymous" referrerpolicy="no-referrer" data-for-md="1" />
<!-- for markdown (github style) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.min.css" integrity="sha512-KUoB3bZ1XRBYj1QcH4BHCQjurAZnCO3WdrswyLDtp7BMwCw7dPZngSLqILf68SGgvnWHTD5pPaYrXi6wiRJ65g==" crossorigin="anonymous" referrerpolicy="no-referrer" data-for-md="1" />
<!-- for markdown (github style) -->
<style type="text/css" data-for-md="1">
.markdown-body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
}

.markdown-body strong,
.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5 {
  font-weight: 700;
}

@media (max-width: 767px) {
  .markdown-body {
    padding: 15px;
  }
}
</style>
    
<body class="markdown-body">
<p>ä»¥ä¸‹ã¯ã€H2ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã® <code>EMPLOYEES</code> ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚ã‚‹ã€ŒEMP001ã€ã®å¹´é½¢ã‚’å¤‰æ›´ã™ã‚‹Javaã‚³ãƒ¼ãƒ‰ã§ã™ã€‚<strong>åˆå­¦è€…å‘ã‘ã«ã€å°‚é–€ç”¨èªã‚’ä½¿ã‚ãšã€ã‚„ã•ã—ãè§£èª¬</strong>ã—ã¾ã™ã€‚</p>
<hr>
<h2 id="ğŸ§ª_ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ï¼ˆå¹´é½¢ã®æ›´æ–°ï¼‰" onmouseover="this.querySelector('a .headlink').style.display='inline-block'" onmouseout="this.querySelector('a .headlink').style.display='none'">ğŸ§ª ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ï¼ˆå¹´é½¢ã®æ›´æ–°ï¼‰<a href="#ğŸ§ª_ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ï¼ˆå¹´é½¢ã®æ›´æ–°ï¼‰" title="ğŸ§ª_ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ï¼ˆå¹´é½¢ã®æ›´æ–°ï¼‰"><i class="headlink" style="display:none;"></i></a></h2>
<pre><code class="language-java">import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;

public class UpdateEmployeeAge {
    public static void main(String[] args) {
        // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨è©±ã™ãŸã‚ã®æº–å‚™
        try {
            Class.forName(&quot;org.h2.Driver&quot;);
        } catch (ClassNotFoundException e) {
            System.out.println(&quot;æº–å‚™ã«å¤±æ•—ã—ã¾ã—ãŸ&quot;);
            return;
        }

        // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã—ã¦ã€æƒ…å ±ã‚’å¤‰æ›´ã™ã‚‹
        try (Connection conn = DriverManager.getConnection(
                &quot;jdbc:h2:tcp://localhost/~/example&quot;, // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å ´æ‰€
                &quot;sa&quot;,                                 // ãƒ¦ãƒ¼ã‚¶ãƒ¼å
                &quot;&quot;                                    // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç©ºã§OKï¼‰
        )) {
            // ã€Œã“ã®äººã®å¹´é½¢ã‚’å¤‰ãˆã¦ãã ã•ã„ã€ã¨ã„ã†æ–‡ç« ã‚’ä½œã‚‹
            String sql = &quot;UPDATE EMPLOYEES SET AGE = ? WHERE ID = ?&quot;;
            PreparedStatement pStmt = conn.prepareStatement(sql);

            // æ–°ã—ã„å¹´é½¢ã¨ã€èª°ã®æƒ…å ±ã‹ã‚’?ã«ã‚»ãƒƒãƒˆã™ã‚‹
            pStmt.setInt(1, 30);           // æ–°ã—ã„å¹´é½¢ï¼ˆä¾‹ï¼š30æ­³ï¼‰	AGE = 30
            pStmt.setString(2, &quot;EMP001&quot;);  // å¯¾è±¡ã®ID 	ID = &quot;EMP001&quot;

            // å®Ÿè¡Œã—ã¦å¤‰æ›´ã™ã‚‹ã€‚rowsã¯ã€å¤‰æ›´ã—ãŸãƒ¬ã‚³ãƒ¼ãƒ‰æ•°ãŒä»£å…¥ã•ã‚Œã‚‹ã€‚ä»Šå›ã¯å¤‰æ›´ã§ãã‚Œã°ã€int rows = 1 ã¨ãªã‚‹
            int rows = pStmt.executeUpdate();

            // å¤‰æ›´ã§ããŸã‹ç¢ºèª
            if (rows &gt; 0) {
                System.out.println(&quot;EMP001ã®å¹´é½¢ã‚’å¤‰æ›´ã—ã¾ã—ãŸ&quot;);
            } else {
                System.out.println(&quot;EMP001ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ&quot;);
            }

        } catch (SQLException e) {
            System.out.println(&quot;å¤‰æ›´ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸ: &quot; + e.getMessage());
        }
    }
}
</code></pre>
<hr>
<h2 id="ğŸ”_åˆå¿ƒè€…å‘ã‘ãƒã‚¤ãƒ³ãƒˆè§£èª¬" onmouseover="this.querySelector('a .headlink').style.display='inline-block'" onmouseout="this.querySelector('a .headlink').style.display='none'">ğŸ” åˆå¿ƒè€…å‘ã‘ãƒã‚¤ãƒ³ãƒˆè§£èª¬<a href="#ğŸ”_åˆå¿ƒè€…å‘ã‘ãƒã‚¤ãƒ³ãƒˆè§£èª¬" title="ğŸ”_åˆå¿ƒè€…å‘ã‘ãƒã‚¤ãƒ³ãƒˆè§£èª¬"><i class="headlink" style="display:none;"></i></a></h2>
<table>
<thead>
<tr>
<th>éƒ¨åˆ†</th>
<th>ã‚ã‹ã‚Šã‚„ã™ã„èª¬æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>UPDATE ... SET AGE = ? WHERE ID = ?</code></td>
<td>ã€Œã“ã®äººã®å¹´é½¢ã‚’â—‹â—‹ã«å¤‰ãˆã¦ãã ã•ã„ã€ã¨ã„ã†ãŠé¡˜ã„æ–‡ã€‚</td>
</tr>
<tr>
<td><code>pStmt.setInt(1, 30)</code></td>
<td>ã€Œæ–°ã—ã„å¹´é½¢ã¯30æ­³ã§ã™ã€ã¨ä¼ãˆã‚‹ã€‚</td>
</tr>
<tr>
<td><code>pStmt.setString(2, &quot;EMP001&quot;)</code></td>
<td>ã€ŒEMP001ã•ã‚“ã®æƒ…å ±ã‚’å¤‰ãˆã¦ãã ã•ã„ã€ã¨æŒ‡å®šã™ã‚‹ã€‚</td>
</tr>
<tr>
<td><code>executeUpdate()</code></td>
<td>å®Ÿéš›ã«å¤‰æ›´ã™ã‚‹ã€‚ã€Œã“ã®ãŠé¡˜ã„ã‚’é€ã‚Šã¾ã™ï¼ã€ã¨ã„ã†åˆå›³ã€‚</td>
</tr>
<tr>
<td><code>rows &gt; 0</code></td>
<td>ã¡ã‚ƒã‚“ã¨å¤‰æ›´ã§ããŸã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ã€‚</td>
</tr>
</tbody></table>
<hr>


<!-- for markdown (headlink hover) -->
<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous" data-for-md="1"></script>
<!-- for markdown parsing -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.16/marked.min.js" integrity="sha512-8d9aScHpB0kf4+i5O3JlEP6VfvvjYYyZXa71ZKq0CzytOfDcH8d4Iej33s/0nNDcqWHhdDuAZKjA2y2qXzvJZw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- for markdown highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js" integrity="sha512-yUUc0qWm2rhM7X0EFe82LNnv2moqArj5nro/w1bi05A09hRVeIZbN6jlMoyu0+4I/Bu4Ck/85JQIU82T82M28w==" crossorigin="anonymous" referrerpolicy="no-referrer" data-for-md="1"></script>
    

<script>
$(document).on("mouseover", "h1,h2,h3,h4,h5", function(e) {
  $(e.currentTarget).find(".headlink").text("ğŸ”—").show();
});
$(document).on("mouseout", "h1,h2,h3,h4,h5", function(e) {
  $(e.currentTarget).find(".headlink").hide();
});
</script>
<script>hljs.highlightAll();</script>
</body>
</html>