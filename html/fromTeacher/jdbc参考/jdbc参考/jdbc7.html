<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>âœ… `create(Employee employee)` ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆä»˜ãï¼‰</title>

<!-- for markdown highlight -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css" integrity="sha512-hasIneQUHlh06VNBe7f6ZcHmeRTLIaQWFd43YriJ0UND19bvYRauxthDg8E4eVNPm9bRUhr5JGeqH7FRFXQu5g==" crossorigin="anonymous" referrerpolicy="no-referrer" data-for-md="1" />
<!-- for markdown (github style) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.min.css" integrity="sha512-KUoB3bZ1XRBYj1QcH4BHCQjurAZnCO3WdrswyLDtp7BMwCw7dPZngSLqILf68SGgvnWHTD5pPaYrXi6wiRJ65g==" crossorigin="anonymous" referrerpolicy="no-referrer" data-for-md="1" />
<!-- for markdown (github style) -->
<style type="text/css" data-for-md="1">
.markdown-body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
}

.markdown-body strong,
.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5 {
  font-weight: 700;
}

@media (max-width: 767px) {
  .markdown-body {
    padding: 15px;
  }
}
</style>
    
<body class="markdown-body">
<p>ä»¥ä¸‹ã«ã€<code>EmployeesDAO</code> ã‚¯ãƒ©ã‚¹ã¸è¿½åŠ ã™ã‚‹ <code>create(Employee employee)</code> ãƒ¡ã‚½ãƒƒãƒ‰ã®<strong>å®Œå…¨å®Ÿè£…ç‰ˆ</strong>ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚<br>ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ç¤¾å“¡æƒ…å ±ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«è¿½åŠ ã—ã€<strong>æˆåŠŸã™ã‚Œã° trueã€å¤±æ•—ã™ã‚Œã° false ã‚’è¿”ã™</strong>ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚<br>ã‚‚ã¡ã‚ã‚“ã€<strong>åˆå­¦è€…ã«ã‚‚ã‚ã‹ã‚Šã‚„ã™ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ã</strong>ã§ã™ï¼</p>
<hr>
<h3 id="âœ…_create(Employee_employee)_ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆä»˜ãï¼‰" onmouseover="this.querySelector('a .headlink').style.display='inline-block'" onmouseout="this.querySelector('a .headlink').style.display='none'">âœ… <code>create(Employee employee)</code> ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆä»˜ãï¼‰<a href="#âœ…_create(Employee_employee)_ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆä»˜ãï¼‰" title="âœ…_create(Employee_employee)_ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆä»˜ãï¼‰"><i class="headlink" style="display:none;"></i></a></h3>
<pre><code class="language-java">public boolean create(Employee employee) {
    try {
        // JDBCãƒ‰ãƒ©ã‚¤ãƒã®èª­ã¿è¾¼ã¿ï¼ˆH2ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”¨ï¼‰
        Class.forName(&quot;org.h2.Driver&quot;);
    } catch (ClassNotFoundException e) {
        // ãƒ‰ãƒ©ã‚¤ãƒãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ
        System.out.println(&quot;JDBCãƒ‰ãƒ©ã‚¤ãƒãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“&quot;);
        return false;
    }

    // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã—ã¦INSERTæ–‡ã‚’å®Ÿè¡Œ
    try (Connection conn = DriverManager.getConnection(
            &quot;jdbc:h2:tcp://localhost/~/example&quot;, // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å ´æ‰€
            &quot;sa&quot;,                                 // ãƒ¦ãƒ¼ã‚¶ãƒ¼å
            &quot;&quot;                                    // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç©ºï¼‰
    )) {
        // ç¤¾å“¡æƒ…å ±ã‚’è¿½åŠ ã™ã‚‹SQLæ–‡ï¼ˆ?ã¯å¾Œã§å€¤ã‚’å…¥ã‚Œã‚‹å ´æ‰€ï¼‰
        String sql = &quot;INSERT INTO EMPLOYEES (ID, NAME, AGE) VALUES (?, ?, ?)&quot;;

        // SQLæ–‡ã‚’æº–å‚™
        PreparedStatement pStmt = conn.prepareStatement(sql);

        // ? ã«å€¤ã‚’ã‚»ãƒƒãƒˆï¼ˆEmployeeã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å–å¾—ï¼‰
        pStmt.setString(1, employee.getId());
        pStmt.setString(2, employee.getName());
        pStmt.setInt(3, employee.getAge());

        // SQLæ–‡ã‚’å®Ÿè¡Œï¼ˆæˆ»ã‚Šå€¤ã¯è¿½åŠ ã•ã‚ŒãŸè¡Œæ•°ï¼‰
        int result = pStmt.executeUpdate();

        // 1ä»¶ä»¥ä¸Šè¿½åŠ ã•ã‚ŒãŸã‚‰æˆåŠŸã¨ã¿ãªã™
        return result &gt; 0;

    } catch (SQLException e) {
        // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œã§å•é¡ŒãŒèµ·ããŸå ´åˆ
        System.out.println(&quot;ãƒ‡ãƒ¼ã‚¿è¿½åŠ ã«å¤±æ•—ã—ã¾ã—ãŸ: &quot; + e.getMessage());
        return false;
    }
}
</code></pre>
<hr>
<h3 id="ğŸ§©_è£œè¶³ãƒã‚¤ãƒ³ãƒˆ" onmouseover="this.querySelector('a .headlink').style.display='inline-block'" onmouseout="this.querySelector('a .headlink').style.display='none'">ğŸ§© è£œè¶³ãƒã‚¤ãƒ³ãƒˆ<a href="#ğŸ§©_è£œè¶³ãƒã‚¤ãƒ³ãƒˆ" title="ğŸ§©_è£œè¶³ãƒã‚¤ãƒ³ãƒˆ"><i class="headlink" style="display:none;"></i></a></h3>
<ul>
<li><code>executeUpdate()</code> ã¯ã€INSERT/UPDATE/DELETE ã§ä½¿ã†ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€<strong>å‡¦ç†ã•ã‚ŒãŸè¡Œæ•°</strong>ã‚’è¿”ã—ã¾ã™ã€‚</li>
<li><code>result &gt; 0</code> ã§æˆåŠŸåˆ¤å®šã™ã‚‹ã“ã¨ã§ã€<strong>0ä»¶ã ã£ãŸå ´åˆï¼ˆä½•ã‚‚è¿½åŠ ã•ã‚Œãªã‹ã£ãŸï¼‰ã‚‚å¤±æ•—æ‰±ã„</strong>ã«ã§ãã¾ã™ã€‚</li>
<li><code>try-with-resources</code> ã«ã‚ˆã£ã¦ã€<strong>æ¥ç¶šã¯è‡ªå‹•ã§ã‚¯ãƒ­ãƒ¼ã‚º</strong>ã•ã‚Œã‚‹ã®ã§å®‰å¿ƒã§ã™ã€‚</li>
</ul>
<hr>
<p>æ¬¡ã¯ï¼š</p>
<ul>
<li><code>update(Employee emp)</code> ã‚„ <code>delete(String id)</code> ã®è¿½åŠ </li>
</ul>
<p>ãªã©ã‚‚è¦–é‡ã«å…¥ã‚Œã‚‹ã¨ã€ã‚ˆã‚Šå®Ÿè·µçš„ãªDAOè¨­è¨ˆã«ãªã‚Šã¾ã™ã€‚  </p>


<!-- for markdown (headlink hover) -->
<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous" data-for-md="1"></script>
<!-- for markdown parsing -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.16/marked.min.js" integrity="sha512-8d9aScHpB0kf4+i5O3JlEP6VfvvjYYyZXa71ZKq0CzytOfDcH8d4Iej33s/0nNDcqWHhdDuAZKjA2y2qXzvJZw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- for markdown highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js" integrity="sha512-yUUc0qWm2rhM7X0EFe82LNnv2moqArj5nro/w1bi05A09hRVeIZbN6jlMoyu0+4I/Bu4Ck/85JQIU82T82M28w==" crossorigin="anonymous" referrerpolicy="no-referrer" data-for-md="1"></script>
    

<script>
$(document).on("mouseover", "h1,h2,h3,h4,h5", function(e) {
  $(e.currentTarget).find(".headlink").text("ğŸ”—").show();
});
$(document).on("mouseout", "h1,h2,h3,h4,h5", function(e) {
  $(e.currentTarget).find(".headlink").hide();
});
</script>
<script>hljs.highlightAll();</script>
</body>
</html>